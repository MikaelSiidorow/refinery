# Environment
NODE_ENV="development"  # "production" for production deployment

# OpenTelemetry (Observability - Traces, Logs)
# Base OTLP endpoint (without /v1/traces suffix)
# For local development with Jaeger: http://localhost:4318
# For SigNoz: https://ingest.your-signoz-instance.com
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318"

# Client-side tracing endpoint (browser sends traces here)
# For SigNoz Cloud: use https://ingest.your-signoz-instance.com/v1/traces
# Note: SigNoz Cloud supports CORS for browser traces
PUBLIC_OTEL_ENDPOINT="http://localhost:4318/v1/traces"

# Logging
LOG_LEVEL="debug"  # debug, info, warn, error

# Optional: Sampling rate (1.0 = 100%, 0.1 = 10% of traces)
# OTEL_TRACES_SAMPLER="parentbased_traceidratio"
# OTEL_TRACES_SAMPLER_ARG="1.0"

# Database (PostgreSQL with wal_level=logical required for Zero replication)
DATABASE_URL="postgres://root:mysecretpassword@localhost:5432/local"
ZERO_UPSTREAM_DB="postgres://root:mysecretpassword@localhost:5432/local"

# Zero Cache Configuration (Required)
ZERO_REPLICA_FILE="/tmp/sync-replica.db"  # Production: use persistent volume path like /data/sync-replica.db
ZERO_MUTATE_URL="http://localhost:5173/api/zero/mutate"  # Production: https://app.yourdomain.com/api/zero/mutate
ZERO_QUERY_URL="http://localhost:5173/api/zero/get-queries"  # Production: https://app.yourdomain.com/api/zero/query
PUBLIC_SERVER="http://localhost:4848"  # Production: https://zero.yourdomain.com (exposed to client)

# Zero Database Configuration (Optional - for performance optimization)
# Separate databases for CVR and change tracking can improve performance
# If not set, both default to ZERO_UPSTREAM_DB
# ZERO_CVR_DB="postgres://root:mysecretpassword@localhost:5432/local"  # Client View Records
# ZERO_CHANGE_DB="postgres://root:mysecretpassword@localhost:5432/local"  # Replication log

# Zero Authentication (Cookie-based)
# We use cookie forwarding for authentication, not JWT tokens
ZERO_QUERY_FORWARD_COOKIES=true
ZERO_MUTATE_FORWARD_COOKIES=true

# Zero Server Configuration
# ZERO_PORT=4848  # Default port for zero-cache
# ZERO_LOG_LEVEL="info"  # Logging level: debug, info, warn, error
# ZERO_APP_ID="refinery"  # App identifier for multi-tenancy

# Production-only: Cookie domain for sharing between app and zero subdomains
# COOKIE_DOMAIN=".yourdomain.com"

# Production-only: REQUIRED in production
# Zero admin password for /statz and admin endpoints
# Generate with: openssl rand -base64 32
# ZERO_ADMIN_PASSWORD="generate-secure-password-here"

# Encryption key for OAuth tokens (REQUIRED)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY="your_64_character_hex_string_here"

# GitHub OAuth
GITHUB_CLIENT_ID="your_client_id"
GITHUB_CLIENT_SECRET="your_client_secret"
GITHUB_REDIRECT_URL="http://localhost:5173/sign-in/github/callback"

# LinkedIn OAuth
LINKEDIN_CLIENT_ID="your_linkedin_client_id"
LINKEDIN_CLIENT_SECRET="your_linkedin_client_secret"
LINKEDIN_REDIRECT_URL="http://localhost:5173/api/oauth/linkedin/callback"

# Optional: SvelteKit server port (defaults to 3000 in production)
# PORT=3000
